<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css" type="text/css" />
    <title>Онлайн построение двумерных графиков</title>
  </head>
  <body>
    <script>
      var stateOneVar = true;

      function switchOneVar() {
        if (stateOneVar) return;
        label_vars.innerHTML = "F(x) =";
        stateOneVar = true;
        build_derivative.onclick = buildLine2dDerivative;
        step_x.style.display = "none";
        step_y.style.display = "none";
        f.style.display = "none";
        menu_auto_f.style.display = "inline";
        val_func.value = "Math.cos(x)/x";

        auto_f.checked = false;
      }


      function switchAutoF() {
        if (auto_f.checked) {
          val_ay.disabled = true;
          val_by.disabled = true;
          step_y.disabled = true;
        } else {
          val_ay.disabled = false;
          val_by.disabled = false;
          step_y.disabled = false;
        }
      }
    </script>

    <header class="site-header">
      <div class="container">
        <h1>
          Скорая графическая помощь: построим график за вас!
        </h1>
      </div>
    </header>
    <h2>
      <em>
        Добро пожаловать на страницу построения графиков
      <br>
        <br>
      Для корректного решения задачи Вам необходимо ввести функцию, а также интервалы аргумента и значения функции.
    </h2>

    <!-- Title -->
    <h2>Онлайн построение двумерных графиков</h2>

    <table id="tab">
      <tr id="row">
        <td id="panel">
          <div id="menu">
            <br />
            <!-- Отступ -->
            <p style="margin-top: -12px; margin-bottom: 8px;">
            </p>
            <p style="margin-top: 0;">
            <p style="margin-top: 24px" id="menu_auto_f">
              <label>
                <input type="checkbox" id="auto_f" onclick="switchAutoF();" />
                Автовыбор значений Y?
              </label>
            </p>
            <p style="margin-top: 24px; margin-bottom: 8px;">
              Интервалы переменных:
            </p>
            <b>
              <p style="margin-top: 0;" class="menu_x">
                X &isin; [
                <input
                  id="val_ax"
                  type="number"
                  class="number_field"
                  autocomplete="off"
                  value="-20"
                  max="100"
                />
                ,
                <input
                  id="val_bx"
                  type="number"
                  class="number_field"
                  autocomplete="off"
                  value="20"
                />
                ]
                <span id="step_x" style="display: none">
                  Шаг
                  <input
                    id="val_hx"
                    type="number"
                    class="number_field"
                    autocomplete="off"
                    value="0.1"
                    step="0.1"
                  />
                </span>
              </p>
              <!-- Область значений Y, шаг по Y -->
              <p class="menu_y">
                Y &isin; [
                <input
                  id="val_ay"
                  type="number"
                  class="number_field"
                  autocomplete="off"
                  value="-20"
                />
                ,
                <input
                  id="val_by"
                  type="number"
                  class="number_field"
                  autocomplete="off"
                  value="20"
                />
                ]
                <span id="step_y" style="display: none">
                  Шаг
                  <input
                    id="val_hy"
                    type="number"
                    class="number_field"
                    autocomplete="off"
                    value="0.1"
                    step="0.1"
                  />
                </span>
              </p>

              <p id="f" class="func_params" style="display: none">
              </p>
              <p style="margin-top: 24px; margin-bottom: 8px;">
                Функция:
              </p>
              <!-- Ввод функции  -->
              <p style="margin-top: 0;" class="menu_val">
                <label id="label_vars"> F(x) = </label>
                <input id="val_func" type="text" value="Math.cos(x)/x" />
                <input
                  id="build_derivative"
                  type="button"
                  value="Построить"
                  onclick="buildLine2dDerivative();"
                />
              </p>
            </b>
          </div>
        </td>
        <td id="canvass">
          <!-- Холст отрисовки графика функции -->
          <canvas id="space" width="800px" height="800px"></canvas>
        </td>
      </tr>
    </table>

    <script src="graf.js"></script>
  </body>
</html>
